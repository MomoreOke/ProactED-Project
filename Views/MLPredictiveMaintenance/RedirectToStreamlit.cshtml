@model string
@{
    ViewData["Title"] = "ML Predictive Dashboard";
}

<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-12">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">
                        <i class="bi bi-robot me-2"></i>
                        Redirecting to ML Predictive Dashboard
                    </h3>
                </div>
                <div class="card-body text-center">
                    <div class="row">
                        <div class="col-md-6 mx-auto">
                            <div class="spinner-border text-primary mb-4" role="status" style="width: 4rem; height: 4rem;">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <h4 class="mb-3">ðŸš€ Launching Advanced ML Dashboard</h4>
                            <p class="lead mb-4">
                                You're being redirected to the enhanced Streamlit ML Predictive Maintenance Dashboard with:
                            </p>
                            
                            <div class="row g-3 mb-4">
                                <div class="col-6">
                                    <div class="card bg-light border-0">
                                        <div class="card-body py-3">
                                            <i class="bi bi-graph-up text-success fs-2"></i>
                                            <h6 class="mt-2 mb-0">Real ML Models</h6>
                                            <small class="text-muted">91% Accuracy</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card bg-light border-0">
                                        <div class="card-body py-3">
                                            <i class="bi bi-lightning text-warning fs-2"></i>
                                            <h6 class="mt-2 mb-0">Live Predictions</h6>
                                            <small class="text-muted">Real-time Analysis</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card bg-light border-0">
                                        <div class="card-body py-3">
                                            <i class="bi bi-eye text-info fs-2"></i>
                                            <h6 class="mt-2 mb-0">Interactive UI</h6>
                                            <small class="text-muted">Streamlit Dashboard</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card bg-light border-0">
                                        <div class="card-body py-3">
                                            <i class="bi bi-gear text-primary fs-2"></i>
                                            <h6 class="mt-2 mb-0">Advanced Analytics</h6>
                                            <small class="text-muted">Feature Importance</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info" role="alert">
                                <i class="bi bi-info-circle me-2"></i>
                                <strong>Note:</strong> The ML dashboard uses your trained model with 5000+ data points for accurate predictions.
                            </div>

                            <div class="d-grid gap-2">
                                <a href="@Model" class="btn btn-primary btn-lg" target="_blank" rel="noopener noreferrer">
                                    <i class="bi bi-box-arrow-up-right me-2"></i>
                                    Open ML Dashboard in New Tab
                                </a>
                                <a href="@Url.Action("Index", "Dashboard")" class="btn btn-outline-secondary">
                                    <i class="bi bi-arrow-left me-2"></i>
                                    Return to Main Dashboard
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Auto-redirect after a brief delay
    setTimeout(function() {
        // Open in new tab
        window.open('@Model', '_blank');
        
        // Show success message
        setTimeout(function() {
            const spinner = document.querySelector('.spinner-border');
            if (spinner) {
                spinner.innerHTML = '<i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>';
                spinner.classList.remove('spinner-border');
            }
            
            const heading = document.querySelector('h4');
            if (heading) {
                heading.innerHTML = 'âœ… ML Dashboard Opened Successfully!';
                heading.classList.add('text-success');
            }
        }, 2000);
        
    }, 3000); // 3 second delay
</script>

<style>
    .card {
        transition: all 0.3s ease;
    }
    
    .card:hover {
        transform: translateY(-2px);
    }
    
    .spinner-border {
        animation: spin 1s linear infinite;
    }
    
    @@keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
